<h1>{{i18n.kysymysryhma.kysymysryhmat}}</h1>
<div class="row">
    <div class="col-md-12">
        <auth roolit="['OPL-VASTUUKAYTTAJA','OPL-PAAKAYTTAJA']">
            <a class="pull-right btn btn-primary e2e-luo-uusi-kysymysryhma" href="#/kysymysryhmat/kysymysryhma/uusi" style="margin: 0;">
                {{i18n.kysymysryhma.luo_uusi}} &nbsp;
                <span class="glyphicon glyphicon-plus"></span>
            </a>
        </auth>
    </div>
</div>

<div class="loader" ng-show="!latausValmis"></div>

<table class="table table-striped kysymysryhmat-taulukko" ng-show="latausValmis">
    <thead>
    <tr>
        <th>{{'i18n.kysymysryhma.nimi' | i18n}}</th>
        <th>{{'i18n.kysymysryhma.selite' | i18n}}</th>
        <th>{{'i18n.kysymysryhma.valtakunnallinen' | i18n}}</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="k in kysymysryhmat">
        <td>{{ k | lokalisoiKentta:'nimi' }}</td>
        <td>{{ k | lokalisoiKentta:'selite' }}</td>
        <td>
            <span ng-show="k.valtakunnallinen" class="glyphicon glyphicon-ok"></span>
        </td>
        <td class="actions nowrap">
            <auth roolit="['OPL-VASTUUKAYTTAJA','OPL-PAAKAYTTAJA']"  ng-if="k.tila === 'luonnos' && (yllapitaja || !k.valtakunnallinen)">
                <a ng-href="#/kysymysryhmat/kysymysryhma/{{k.kysymysryhmaid}}" class="e2e-muokkaa-kysymysryhmaa">
                    <span class="glyphicon glyphicon-pencil"></span>
                </a>
            </auth>
            &nbsp;&nbsp;
            <auth roolit="['OPL-VASTUUKAYTTAJA','OPL-PAAKAYTTAJA']"  ng-if="k.tila === 'luonnos' && (yllapitaja || !k.valtakunnallinen)">
                <button class="btn btn-primary btn-sm" ng-click="julkaiseKysymysryhmaModal(k)" ng-disabled="k.kysymyksien_lkm === 0">
                    {{ 'yleiset.julkaise' | i18n }}&nbsp;
                    <span class="glyphicon glyphicon-share-alt"></span>
                </button>
            </auth>
        </td>
    </tr>
    </tbody>
</table>
